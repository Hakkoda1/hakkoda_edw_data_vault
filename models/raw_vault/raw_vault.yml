version: 2

models:

  - name: hub_study
    description: A distinct list of Studies represented by the Study Protocol Number.
    tags: ['ionis','veeva_etmf']
    columns:
      - name: hub_study_hkey
        tests:
          - dbt_constraints.primary_key
  - name: sat_study_details_veeva_etmf
    description: Descriptive information for Studies from Veeva ETMF.
    tags: ['ionis','veeva_etmf']
    columns:
      - name: hub_study_hkey
        tests:
          - dbt_constraints.foreign_key:
              pk_table_name: ref('hub_study')
              pk_column_name: hub_study_hkey
    tests:
      - dbt_constraints.primary_key:
          column_names:
            - hub_study_hkey
            - load_datetime